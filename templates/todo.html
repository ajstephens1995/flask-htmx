{% extends "layout.html" %}

{% block content %}
<h1>Todo</h1>
{% if todo_list %}
<div class="container" id="todo_list">
    {% for todo in todo_list %}
    {% if loop.first %}
    <div class="grid">
        <article id="{{ todo.id }}" hx-target="this" hx-swap="outerHTML">

            <body>
                <div><label>Task</label><small>{{ todo.task }}</small></div>
                <br>
                <div>
                    <label>Notes</label><small>{{ todo.notes }}</small>
                </div>
                <br>
                <div class="grid">
                    <div><label>Complete</label><small>{{ todo.status }}</small></div>
                    <div><label>Due Date</label><small>{{ todo.due_date }}</small></div>
                </div>
                <br>
                <small><a href="/todo/edit/{{ todo.id }}">Edit</a></small>
                <br>
                <small><a href="/todo/delete/{{ todo.id }}">Delete</a></small>
            </body>
        </article>
        {% elif loop.index0 % 3 == 0 %}
    </div>
    <div class="grid">
        <article id="{{ todo.id }}" hx-target="this" hx-swap="outerHTML">

            <body>
                <div><label>Task</label><small>{{ todo.task }}</small></div>
                <br>
                <div>
                    <label>Notes</label><small>{{ todo.notes }}</small>
                </div>
                <br>
                <div class="grid">
                    <div><label>Status</label><small>{{ todo.status }}</small></div>
                    <div><label>Due Date</label><small>{{ todo.due_date }}</small></div>
                </div>
                <br>
                <small><a href="/todo/edit/{{ todo.id }}">Edit</a></small>
                <br>
                <small><a href="/todo/delete/{{ todo.id }}">Delete</a></small>

            </body>
        </article>
        {% else %}
        <article id="{{ todo.id }}" hx-target="this" hx-swap="outerHTML">

            <body>
                <div><label>Task</label><small>{{ todo.task }}</small></div>
                <br>
                <div>
                    <label>Notes</label><small>{{ todo.notes }}</small>
                </div>
                <br>
                <div class="grid">
                    <div><label>Status</label><small>{{ todo.status }}</small></div>
                    <div><label>Due Date</label><small>{{ todo.due_date }}</small></div>
                </div>
                <br>
                <small><a href="/todo/edit/{{ todo.id }}">Edit</a></small>
                <br>
                <small><a href="/todo/delete/{{ todo.id }}">Delete</a></small>
            </body>
        </article>
        {% endif %}
        {% if loop.last %}
    </div>
    {% endif %}
    {% endfor %}
</div>
{% endif %}
</div>
{% endblock %}